{% extends 'base/base.html' %}
{% load static %}

{% block title %}Plan'it Teknoy | Event List{% endblock title %}

{% block breadcrumb %}

{% if total_event.count|add:"1" %}
<div>
    <h1><i class="fa fa-dashboard"></i> Total Events</h1>
    <p>Event List</p>
</div>
<ul class="app-breadcrumb breadcrumb">
    <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
    <li class="breadcrumb-item"><a href="{% url 'Plan_It_Teknoy:running_events' %}">Plan'it Teknoy | Running Event List</a></li>
</ul>
{% endif %}

{% if running_events.count|add:"1" %}
<div>
    <h1><i class="fa fa-dashboard"></i> Running Events</h1>
    <p>Event List</p>
</div>
<ul class="app-breadcrumb breadcrumb">
    <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
    <li class="breadcrumb-item"><a href="{% url 'Plan_It_Teknoy:completed_events' %}">Plan'it Teknoy | Completed Event List</a></li>
</ul>
{% endif %}

{% if completed_events.count|add:"1" %}
<div>
    <h1><i class="fa fa-dashboard"></i> Completed Events</h1>
    <p>Event List</p>
</div>
<ul class="app-breadcrumb breadcrumb">
    <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
    <li class="breadcrumb-item"><a href="{% url 'Plan_It_Teknoy:all_events' %}">Plan'it Teknoy | All Event List</a></li>
</ul>
{% endif %}



{% endblock breadcrumb %}

{% block content %}
<div class="row">
    
    {% if total_event.count|add:"1" %}
    <div class="col-md-6 col-lg-3">
        <div class="widget-small primary coloured-icon">
            <i class="icon fa fa-files-o fa-3x"></i>
            <div class="info">
                <h4>Total Events</h4>
                <p><b>{{ total_event.count}}</b></p>
            </div>
        </div>
    </div>
   {% endif %}
   {% if running_events.count|add:"1" %}
    <div class="col-md-6 col-lg-3">
        <div class="widget-small info coloured-icon">
            <i class="icon fa fa-thumbs-o-up fa-3x"></i>
            <div class="info">
                <h4>Total Running Events</h4>
                <p><b>{{ running_events.count }}</b></p>
            </div>
        </div>
    </div>
    {% endif %}

    {% if completed_events.count|add:"1" %}
    <div class="col-md-6 col-lg-3">
        <div class="widget-small danger coloured-icon">
            <i class="icon fa fa-star fa-3x"></i>
            <div class="info">
                <h4>Completed Events</h4>
                <p><b>{{ completed_events.count }}</b></p>
            </div>
        </div>
    </div>
    {% endif %}
    <!-- <div class="row"> -->
        <div class="col-md-12">
            <div class="tile">
                <div class="tile-body">
                    <div class="table-responsive">
                        <div id="sampleTable_wrapper"
                            class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-hover table-bordered dataTable no-footer" id="sampleTable"
                                        role="grid" aria-describedby="sampleTable_info">
                                        <thead>
                                            <tr role="row">
                                                <th class="sorting_asc" tabindex="0" aria-controls="sampleTable"
                                                    rowspan="1" colspan="1" aria-sort="ascending"
                                                    aria-label="Name: activate to sort column descending"
                                                    style="width: 261.641px;">Event Number</th>
                                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                    colspan="1" aria-label="Position: activate to sort column ascending"
                                                    style="width: 417.312px;">Event Name</th>
                                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                    colspan="1" aria-label="Office: activate to sort column ascending"
                                                    style="width: 189.281px;">Start Time</th>
                                                <th class="sorting" tabindex="0" aria-controls="sampleTable" rowspan="1"
                                                    colspan="1" aria-label="Age: activate to sort column ascending"
                                                    style="width: 102.141px;">End Time</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for event in events %}
                                            <tr role="row" class="odd">
                                                <td class="sorting_1">{{ forloop.counter }}</td>
                                                <td>{{ event.title }}</td>
                                                <td>{{ event.start_time }}</td>
                                                <td>{{ event.end_time }}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- </div> -->
    {% endblock content %}

    {% block extrascripts %}
    <!-- code for announcements -->
    <script src="https://cdn.jsdelivr.net/npm/@widgetbot/crate@3" async defer>
        new Crate({
        server: '1037241162597154856',
        channel: '1037241163226296383'
        })
    </script>

    <script type="text/javascript" src="{% static 'js/plugins/jquery.dataTables.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/plugins/dataTables.bootstrap.min.js' %}"></script>
    <script type="text/javascript">
        $('#sampleTable').DataTable();
    </script>
    {% endblock extrascripts %}